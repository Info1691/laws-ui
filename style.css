:root{
  --brand:#0b4e8b;
  --brand-2:#0a4176;
  --border:#e2e5ea;
  --panel:#ffffff;
  --page:#f6f7f9;
  --ink:#1f2328;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:14px/1.45 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  color:var(--ink);
  background:var(--page);
}

/* Header */
.app-header{
  display:flex; align-items:center; gap:12px;
  background:var(--brand); color:#fff; padding:12px 16px;
}
.logo{height:36px;background:#fff;border-radius:4px;padding:3px}
.title{margin:0;font-size:18px}

/* Layout */
#app{display:grid; grid-template-columns: 300px 1fr; gap:14px; padding:14px; max-width:1400px; margin:0 auto;}
#sidebar{
  background:var(--panel); border:1px solid var(--border); border-radius:8px;
  padding:12px; min-height:70vh; display:flex; flex-direction:column; gap:8px;
}
.sidebar-title{margin:0; font-size:14px}
#listSearch{
  width:100%; padding:8px 10px; border:1px solid var(--border); border-radius:6px;
}
.rule-list{list-style:none; margin:0; padding:0; overflow:auto; flex:1;}
.rule-list li{
  padding:9px 10px; margin:8px 0 0; border:1px solid var(--border); border-radius:6px; cursor:pointer; background:#fff;
}
.rule-list li:hover{background:#f2f7ff; border-color:#cfe0ff}
.rule-list li.active{outline:2px solid var(--brand); background:#eef6ff}

#viewer{
  background:var(--panel); border:1px solid var(--border); border-radius:8px;
  padding:12px; min-height:70vh; display:flex; flex-direction:column; gap:10px;
}

/* Sticky toolbar so search stays visible */
.toolbar{
  position: sticky; top: 0; z-index: 5;
  display:flex; gap:8px; align-items:center;
  background:var(--panel);
  padding-bottom:8px; border-bottom:1px solid #eef1f6;
}
#textSearch{
  flex:1; padding:8px 10px; border:1px solid var(--border); border-radius:6px;
}
.btn{
  background:var(--brand); color:#fff; border:none; border-radius:6px; padding:8px 10px; cursor:pointer;
}
.btn:hover{background:var(--brand-2)}
.btn[disabled]{opacity:.55; cursor:not-allowed}

.meta{display:flex; gap:18px; flex-wrap:wrap; font-size:13px}

/* Scroll inside the panel; not the full page */
.text{
  white-space: pre-wrap; word-break: break-word;
  background:#fbfcfe;
  border: 1px solid #eef1f6; border-radius:8px; padding:10px;
  min-height: 320px;
  max-height: calc(100vh - 300px); /* viewport-aware */
  overflow: auto;                  /* local scrolling */
  line-height: 1.45;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}

/* Marked hits */
mark{background:#ffe066; padding:0 2px; border-radius:2px}
mark.current{background:#ffd24d;}

/* Footer bits */
.actions{display:flex; gap:8px}
.status{color:#475569; font-size:12px; margin:0}
.footnote{color:#6b7280; font-size:12px; margin:4px 0 0}

/* Mobile */
@media (max-width: 820px){
  #app{grid-template-columns:1fr}
  #sidebar{min-height:auto}
  .text{max-height: 50vh;}
}
